<div class="tools">
    <ng-container *ngIf="route.children.length === 0; else goToForm">
        <div class="tool-buttons">
            <button matRipple class="tool left" [routerLink]="['/news/create-post']" (click)="toggleNewsForm()"><i-feather name="plus"></i-feather>Post</button>
            <button matRipple class="tool end"><i-feather name="filter"></i-feather>Filter</button>
        </div>
        <form [formGroup]="searchForm" class="tool-search">
            <div class="search-bar">
                <input type="text" formControlName="query" class="search-input" placeholder="Search posts...">
                <button matRipple class="search-submit" type="submit"><i-feather name="search"></i-feather></button>
            </div>
        </form>
    </ng-container>

    <ng-template #goToForm>
        <div class="tool-buttons">
            <button matRipple class="tool left" [routerLink]="['/news']" (click)="toggleNewsForm()"><i-feather name="chevron-left"></i-feather>Back</button>
            <button matRipple class="tool end disabled"><i-feather name="filter"></i-feather>Filter</button>
        </div>
        <form [formGroup]="searchForm" class="tool-search">
            <div class="search-bar">
                <input type="text" formControlName="query" class="search-input disabled" placeholder="Search posts..." disabled>
                <button matRipple class="search-submit disabled" type="submit"><i-feather name="search"></i-feather></button>
            </div>
        </form>
    </ng-template>
</div>

<ng-container *ngIf="route.children.length === 0">
    <div class="posts-list">
        <ng-container *ngIf="posts && posts.length > 0">
            <div class="post" *ngFor="let post of posts">
                {{ post.title }}
            </div>
        </ng-container>
    </div>
</ng-container>

<router-outlet></router-outlet>